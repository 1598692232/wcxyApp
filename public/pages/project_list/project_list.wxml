<view class="pl-container">
	<scroll-view  class="breadcrumb-nav" scroll-x wx:if="{{showBreadcrumb}}" style="height: 56px;" scroll-x>
		<view  style="width: {{breadcrumbWidth}}px" class="clearfix">
			<view class="breadcrumb-nav-li" wx:for="{{breadcrumbList}}" wx:key="index"
			data-id="{{item.id}}" bindtap="selectFolder" 
			style="z-index:{{100 - index}};" >
				<!-- <image src="{{index == 0 ? './img/bg1.png' : './img/bg2.png'}}" mode="scaleToFill"></image> -->
				<!-- <view style="opacity:{{breadcrumbList.length - 1 == index ? 1: 0}}">
				</view> -->
				<view style="opacity:{{ index == 0 ? 0: 1}}">
					<image src="./img/jiantou.png"></image>
				</view>
				<view class="text">{{item.name}}</view>
			</view>			
		</view>
	</scroll-view>

	<scroll-view class="pl-list" scroll-y style="height: {{scrollHeight}}px" lower-threshold="100">
		<view wx:if="{{showShare}}">
			<scroll-view class="join-member" wx:if="{{!showBreadcrumb}}"> 
				<view class="join-member-list" id="join-member">
					<view class="join-member-li" wx:for="{{txList}}" wx:key="index" wx:if="{{txList.length < 5}}">
							<image src="{{item.avatar}}" class="join-member-tx" mode="scaleToFill"></image>
							<!-- <view class="join-member-name">{{item.realname}}</view> -->
					</view>
					<block wx:if="{{txList.length >= 5}}">
						<view class="join-member-li" wx:for="{{txFiveList}}" wx:key="index" >
								<image src="{{item.avatar}}" class="join-member-tx" mode="scaleToFill"></image>
						</view>
						<view class="join-member-li join-member-li-more">
								+{{txList.length-5}}
						</view>
					</block>
				</view>
			</scroll-view>
		</view>
		<view wx:if="{{!showShare}}">
			<scroll-view class="join-member" wx:if="{{!showBreadcrumb}}" bindtap="toMemberList"> 
				<view class="join-member-list" id="join-member">
					<view class="join-member-li" wx:for="{{txList}}" wx:key="index" wx:if="{{txList.length < 5}}">
							<image src="{{item.avatar}}" class="join-member-tx" mode="scaleToFill"></image>
							<!-- <view class="join-member-name">{{item.realname}}</view> -->
					</view>
					<block wx:if="{{txList.length >= 5}}">
						<view class="join-member-li" wx:for="{{txFiveList}}" wx:key="index" >
								<image src="{{item.avatar}}" class="join-member-tx" mode="scaleToFill"></image>
						</view>
						<view class="join-member-li join-member-li-more">
								+{{txList.length-5}}
						</view>
					</block>
				</view>
			</scroll-view>
		</view>


		<view class="pl-body" wx:if="{{videoList.length > 0}}">
			<view wx:if="{{showShare}}">
				<view class="pl-li clearfix" wx:for="{{videoList}}" wx:key="index" bindtap="toSelectShare"
				data-url="{{item.project_file.url}}" data-name="{{item.name}}" 
				data-id="{{item.id}}" data-username="{{item.user_info.realname}}" 
				data-create-time="{{item.created_time}}" data-type="{{item.type}}" data-cover-img="{{item.cover_img[0]}}" 
				data-index="{{index}}"  data-selected="item.selected">
					<view class="pl-img-body">
						<block wx:if="{{item.type == 'folder'}}">
							<view class="pl-img pl-floder">
								<image  src="./img/floder2.png" mode="aspectFit" lazy-load="{{true}}" ></image>								
							</view>
						</block>
						<block wx:if="{{item.type == 'file'}}">
							
								<!-- <view class="pl-count">
									<text>{{item.version_count}}</text>
								</view> -->
								<view class="play-img">
								<image src="./img/play.png" mode="aspectFit" lazy-load="{{true}}"></image> 								
								</view>
	
								<!-- <view class="pl-timer">
									<text>{{item.project_file.time}}</text>
								</view> -->
								<image class="pl-img" src="{{item.cover_img[0]}}" mode="aspectFill" lazy-load="{{true}}"></image>
	
						</block>
					</view>
					<view class="pl-des-body" style="width:{{liWidth}}px">
						<text class="pl-name">{{item.name}}</text>
						<view class="pl-text clearfix">
							<image class="pl-video-icon" src="./img/storage2.png" mode="aspectFit" lazy-load="{{true}}"></image> 
							<view class="pl-text-p"><text>{{item.size_text}}M</text></view>
							<image class="pl-video-icon" src="./img/comment2.png" mode="aspectFit" lazy-load="{{true}}"></image> 
							<view class="pl-text-p"><text>{{item.comment_count}}</text></view>
						</view>
						<view class="pl-user clearfix">
							<image class="pl-user-tou" src="{{item.user_info.avatar}}" mode="aspectFit" lazy-load="{{true}}"></image>
							<text class="pl-create-timer">{{item.created_time}}</text>
						</view>
					</view>
					<view wx:if="{{item.selected}}">
						<view class="share-btn select-share">
							<image src="./img/share_selected.png"></image>
						</view>
					</view>
					<view wx:else>
						<view class="share-btn"></view>						
					</view>
				</view>
			</view>
		
			<view wx:if="{{!showShare}}">
				<view class="pl-li clearfix" wx:for="{{videoList}}" wx:key="index" bindtap="toInfo" 
				data-url="{{item.project_file.url}}" data-name="{{item.name}}" 
				data-id="{{item.id}}" data-username="{{item.user_info.realname}}" 
				data-create-time="{{item.created_time}}" data-type="{{item.type}}" data-cover-img="{{item.cover_img[0]}}" 
				data-index="{{index}}">  
					<view class="pl-img-body">
						<block wx:if="{{item.type == 'folder'}}">
							<view class="pl-img pl-floder">
								<image  src="./img/floder2.png" mode="aspectFit" lazy-load="{{true}}" ></image>								
							</view>
						</block>
						<block wx:if="{{item.type == 'file'}}">
								<!-- <view class="pl-count">
									<text>{{item.version_count}}</text>
								</view> -->
								<view class="play-img">
								<image src="./img/play.png" mode="aspectFit" lazy-load="{{true}}"></image> 								
								</view>
								<!-- <view class="pl-timer">
									<text>{{item.project_file.time}}</text>
								</view> -->
								<image class="pl-img" src="{{item.cover_img[0]}}" mode="aspectFill" lazy-load="{{true}}"></image>
	
						</block>
	
					</view>
					<view class="pl-des-body" style="width:{{liWidth}}px">
						<text class="pl-name">{{item.name}}</text>
						<view class="pl-text clearfix">
							<image class="pl-video-icon" src="./img/storage2.png" mode="aspectFit" lazy-load="{{true}}"></image> 
							<view class="pl-text-p"><text>{{item.size_text}}M</text></view>
							<image class="pl-video-icon" src="./img/comment2.png" mode="aspectFit" lazy-load="{{true}}"></image> 
							<view class="pl-text-p"><text>{{item.comment_count}}</text></view>
						</view>
						<view class="pl-user clearfix">
							<image class="pl-user-tou" src="{{item.user_info.avatar}}" mode="aspectFit" lazy-load="{{true}}"></image>
							
							<text class="pl-create-timer">{{item.created_time}}</text>
						</view>
					</view>
				</view>
			</view>
		</view>
		<view class="empty-project" wx:else>
			暂无媒体，请登录新阅官网进行更多操作
        </view>
		
	</scroll-view>

	<view class="member-drop" wx:if="{{showMemberDrop}}">
		<view  class="member-drop-list-show">
			<view class="member-drop-add">
				<view>
					<image src="./img/invite.png"></image>
				</view>
				<view class="text">添加联系人</view>
			</view>
			<view class="join-member-drop-box">
				<scroll-view class="join-member-drop" wx:if="{{!showBreadcrumb}}"> 
					<view class="join-member-drop-list">
						<view class="join-member-drop-li" wx:for="{{txList}}" wx:key="index">
							<view class="image">
								<image src="{{item.avatar}}" class="join-member-tx" mode="scaleToFill"></image>
							</view>
							<view class="list">
								<view class="join-member-name">{{item.realname}}</view>
								<view class="join-member-type">
									<view wx:if="{{item.type==='admin'}}">制作者</view>
									<view wx:else>审阅者</view>
								</view>
							</view>
						</view>
					</view>
				</scroll-view>
			</view>
			<view wx:if="{{isAdmin}}">
				<view class="member-drop-quit" bindtap="MembertoProject">删除项目</view>
			</view>
			<view wx:else>
				<view class="member-drop-quit" bindtap="MembertoProject">退出工程</view>
			</view>
	
		</view>
		<view class="member-drop-list-btn" bindtap="MembertoProject">
			<image src="./img/jiantou-top.png"></image>
		</view>
	</view>

	<view wx:if="{{!showShare}}">
		<view class="share" wx:if="{{!showBreadcrumb}}">
			<view bindtap="toShareList">链接</view>
			<view bindtap="toCreateShare">创建分享</view>
		</view>
	</view>
	<view wx:if="{{showShare}}">
		<view class="share createShare" wx:if="{{!showBreadcrumb}}">
			<view bindtap="toCloseCreateShare">取消</view>
			<view bindtap="toCreateShareList">下一步</view>
		</view>
	</view>
	
</view>


